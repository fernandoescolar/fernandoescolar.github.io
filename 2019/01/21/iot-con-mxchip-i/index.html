<!DOCTYPE html>
<html lang="es-es">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<title>
			IoT con MxChip (I) · developerro
		</title>
		<!-- Social Metas -->
		<meta name="description" content="Hoy empezamos una peque&#241;a serie sobre IoT usando un dispositivo MxChip y la plataforma Azure. Nada como empezar el a&#241;o escribiendo un nuevo art&#237;culo sobre un..." />
		<meta property="og:title" content="IoT con MxChip (I)" />
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://www.developerro.com/2019/01/21/iot-con-mxchip-i" />
		<meta property="og:image" content="https://www.developerro.com/assets/apple-touch-icon-144-precomposed.png" />
		<meta property="og:description" content="Hoy empezamos una pequeña serie sobre IoT usando un dispositivo MxChip y la plataforma Azure. Nada como empezar el año escribiendo un nuevo artículo sobre un..." />
		<meta property="og:site_name" content="developerro" />
		<meta property="og:locale" content="es_es" />
		<meta property="article:modified_time" content="2019-01-21 14:02:53Z" />
		<meta property="article:published_time" content="2019-01-21 14:02:53Z" />
		<meta property="article:author" content="Fernando Escolar" />
		<meta property="og:see_also" content="https://www.developerro.com/2021/03/24/azure-functions-net-5" />
		<meta property="og:see_also" content="https://www.developerro.com/2021/03/10/efcore-vs-records" />
		<meta property="og:see_also" content="https://www.developerro.com/2021/03/03/chorra-tip-1-wcd-command" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@fernandoescolar" />
		<meta name="twitter:creator" content="@fernandoescolar" />
		<meta name="twitter:title" content="IoT con MxChip (I)" />
		<meta name="twitter:description" content="Hoy empezamos una pequeña serie sobre IoT usando un dispositivo MxChip y la plataforma Azure. Nada como empezar el año escribiendo un nuevo artículo sobre un..." />
		<meta name="twitter:image" content="https://www.developerro.com/assets/apple-touch-icon-144-precomposed.png" />
		<meta name="twitter:url" content="https://www.developerro.com/2019/01/21/iot-con-mxchip-i" />
		<meta name="description" content="Hoy empezamos una pequeña serie sobre IoT usando un dispositivo MxChip y la plataforma Azure. Nada como empezar el año escribiendo un nuevo artículo sobre un..." />
		<link rel="alternate" type="application/atom+xml" title="Developerro" href="/atom.xml" />
		<link rel="canonical" href="https://www.developerro.com/2019/01/21/iot-con-mxchip-i" />
		<!-- Icons -->
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png" />
		<link rel="shortcut icon" href="/assets/favicon.ico" />
		<!-- RSS -->
		<link rel="alternate" type="application/rss+xml" title="Developerro" href="/atom.xml" />
		<!-- Styles -->
		<link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" type="text/css" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" type="text/css" />
		<link rel="stylesheet" href="/assets/vendor/fontawesome-free/css/all.min.css" />
		<link rel="stylesheet" href="/assets/main.css" />
		<link rel="stylesheet" href="/assets/syntax.css" />
		<!-- Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163390000-1">
		</script>
		<script>
			
			    function activateGoogleAnalytics() {
			        window.dataLayer = window.dataLayer || [];
			        function gtag(){dataLayer.push(arguments);}
			        gtag('js', new Date());
			        gtag('config', 'UA-163390000-1');
			    }
			
		</script>
	</head>
	<body>
		<nav>
			<i id="hamburger">
			</i> <a href="/">
				<b>
					d</b>eveloperro
			</a>
			<ul>
				<li>
					<a href="/posts">blog
					</a>
				</li>
				<li>
					<a href="/about">
						acerca de
					</a>
				</li>
				<li>
					<a href="/archive">
						archivo
					</a>
				</li>
				<li>
					<a href="/projects">
						oss
					</a>
				</li>
				<li>
					<a href="/search">
						buscar
					</a>
				</li>
				<li>
					<a href="/videos">
						vídeos
					</a>
				</li>
			</ul>
		</nav>
		<header class="post">
			<h1>
				IoT con MxChip (I)
			</h1><small>21 ene. 2019 · 6 min. de lectura
			</small>
		</header>
		<article class="post">
			<p>
				Hoy empezamos una pequeña serie sobre IoT usando un dispositivo MxChip y la plataforma Azure. Nada como empezar el año escribiendo un nuevo artículo sobre una tecnología de la que nunca antes lo había hecho.
				<!--break-->
			</p>
			<p>
				¡Hola! Soy Troy McClure y tal vez me recuerden de otros artículos en internet como "Los decimales que el sistema robó a mi 'float'" o "Por qué 'Linq to Entities' apesta".
			</p>
			<blockquote>
				<p>
					Señor McClure
				</p>
			</blockquote>
			<p>
				¡Caramba! Hola Bobby...
			</p>
			<blockquote>
				<p>
					Soy Jimmy... Me gustaría saber como hacer chorradas de esas de IoT en Azure.
				</p>
			</blockquote>
			<p>
				¡Woow! ¡Woow! ¡Más despacio Jimmy! Eso es como querrer programar el alma...
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mcclure-start.jpg" alt="Troy McClure y Jimmy" />
			</p>
			<p>
				Si queremos graduarnos en la "Universidad de las Cosas" necesitaremos una "Cosa" que utilizar. La "Thing" más recomendable, es una placa llamada "MxChip IoT DevKit".
			</p>
			<p>
				Esta placa ya viene certificada para trabajar con Azure IoT. Además tiene un montón de sensores incorporados: humedad, temperatura, presión, acelerómetro, giroscopio, micrófono... Las suelen regalar en eventos de Microsoft con temáticas de IoT. Pero siempre podremos adquirir una comprándola online.
			</p>
			<p>
				No es obligatorio usarla. Pero simplificará toda la interacción con el hardware. De esta forma podremos centrarnos en lo interesante: el desarrollo.
			</p>
			<p>
				Una vez tengamos una placa MxChip, tendremos que empezar a trabajar con ella:
			</p>
			<h2 id="configurar-la-wifi">
				Configurar la wifi
			</h2>
			<p>
				Enchufaremos el MxChip a una fuente de alimentación (por ejemplo un puerto USB de nuestro ordenador). Entonces mantendremos pulsado el botón "B". Pulsaremos el botón "reset" y lo soltaremos. Después soltaremos el botón "B":
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mxchip-wifi1.png" alt="configure wifi" />
			</p>
			<p>
				La placa entrará en un modo especial en el que sirve una red wifi. Deberemos conectar nuestro ordenador con la red wifi que dice la pantalla de la placa:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mxchip-wifi3.png" alt="configure wifi" />
			</p>
			<p>
				Y una vez conectado deberemos abrir un navegador de internet y dirigirnos a "http://" más la IP que aparece en la pantalla de la placa:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mxchip-wifi2.png" alt="configure wifi" />
			</p>
			<p>
				Una vez en esa página solo debemos configurar la Wifi a la que deseamos que se conecte la placa.
			</p>
			<h2 id="actualizar-firmware">
				Actualizar firmware
			</h2>
			<p>
				Actualizar el firmware es de las operaciones más simples que se pueden encontrar. Lo único que hay que hacer es descargar la última versión desde la página oficial:
			</p>
			<p>
				<a href="https://aka.ms/devkit/prod/firmware/latest">
					https://aka.ms/devkit/prod/firmware/latest
				</a>
			</p>
			<p>
				Después conectar el MxChip a nuestro ordenador usando el cable USB. De esta forma se montará una unidad de disco. Finalmente, copiaremos el archivo del firmware en la unidad de disco de la placa:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-copy-firmware.png" alt="copy the file in the mxchip folder" />
			</p>
			<p>
				Automáticamente el dispositivo se actualizará usando ese archivo y se reiniciará.
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mcclure-middle.jpg" alt="Troy McClure approves" />
			</p>
			<h2 id="preparar-el-entorno-de-desarrollo">
				Preparar el entorno de desarrollo
			</h2>
			<p>
				La placa MxChip trae como microcontrolador una unidad SMT32, de arquitectura ARMv7-M y un core Cortex-M3. Un modelo que podemos programar usando el amigable IDE de arduino.
			</p>
			<p>
				Aunque usaremos como herramienta principal <a href="https://code.visualstudio.com/">Visual Studio Code
				</a> (vscode), necesitaremos instalar previamente el IDE de arduino. Esto es porque todas las herramientas de vscode están basadas en librerías de este IDE. Así que nos dirigiremos a <a href="https://www.arduino.cc/en/Main/Software">la web del IDE de arduino
				</a>, descargaremos el "Windows installer" y lo instalaremos:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-arduino-ide.png" alt="install arduino IDE for windows" />
			</p>
			<p>
				Después en vscode, en las extensiones buscaremos una llamada "Arduino", desarrollada por Microsoft, y la instalaremos:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-vscode-arduino.png" alt="install arduino vscode extension" />
			</p>
			<p>
				Ahora tendremos que configurar la extensión de arduino para que use las librerías del IDE que instalamos al inicio. Nos dirigiremos al menu: File → Preferences → Settings. Una vez ahí pulsaremos sobre el icono de editar el archivo "settings.json":
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-vscode-settings.png" alt="edit vscode settings.json" />
			</p>
			<p>
				Y añadiremos dentro de las llaves el siguiente par de parejas clave-valor:
			</p>
			<pre class="language-json highlight">
<code>"arduino.path": "C:\\Program Files (x86)\\Arduino",
"arduino.additionalUrls": "https://raw.githubusercontent.com/VSChina/azureiotdevkit_tools/master/package_azureboard_index.json"
				</code>
</pre>
			<p>
				También instalaremos la extensión "Azure IoT Tools" para tener instegración con la plataforma en la nube para IoT de Microsoft:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-vscode-tools.png" alt="install azure iot tools vscode extension" />
			</p>
			<p>
				Y por último, instalaremos un driver de windows que nos servirá de interfaz USB para poder comunicarnos entre el MxChip y nuestra máquina: ST-Link/V2. Lo podréis descargar, después de introducir vuestro email desde la página oficial:
			</p>
			<p>
				<a href="http://www.st.com/en/development-tools/stsw-link009.html">
					http://www.st.com/en/development-tools/stsw-link009.html
				</a>
			</p>
			<p>
				Una vez hemos completado todos estos pasos desconectamos de nuestro ordenador el MxChip y reiniciamos vscode (Ctrl+ Shift + P y "Reload Window"). Al conectar de nuevo el MxChip con nuestro ordenador y estando vscode abierto, veremos como se abre automáticamente una página con ejemplos de desarrollo:
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-vscode-workbench.png" alt="vscode examples for IoT" />
			</p>
			<p>
				Lo que querrá decir que ya estamos listos para programar el MxChip.
			</p>
			<blockquote>
				<p>
					Señor McClure, pero esto es muy aburrido...
				</p>
			</blockquote>
			<h2 id="continuara">
				Continuará
			</h2>
			<p>
				No te engañes Jimmy, aunque este artículo haya sido un peñazo, es una información muy útil para lo que puede venir.
			</p>
			<blockquote>
				<p>
					Tiene razón. Con esa afirmación he demostrado que soy un auténtico pardillo.
				</p>
			</blockquote>
			<p>
				Ha, ha, ha! Sí que lo eres Jimmy... sí que lo eres...
			</p>
			<p>
				<img src="/assets/uploads/2019/01/iot-mcclure-end.jpg" alt="Troy McClure & Jimmy" />
			</p>
		</article>
		<section id="share">
			<a href="https://twitter.com/intent/tweet?text=IoT con MxChip (I)&url=https://www.developerro.com/2019/01/21/iot-con-mxchip-i" rel="nofollow" target="_blank" title="Share on Twitter">
				<i class="fab fa-twitter">
				</i>
			</a> <a href="https://facebook.com/sharer.php?u=https://www.developerro.com/2019/01/21/iot-con-mxchip-i" rel="nofollow" target="_blank" title="Share on Facebook">
				<i class="fab fa-facebook"></i>
			</a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.developerro.com/2019/01/21/iot-con-mxchip-i" rel="nofollow" target="_blank" title="Share on Linkedlin">
				<i class="fab fa-linkedin"></i>
			</a> <a href="http://www.reddit.com/submit?url=https://www.developerro.com/2019/01/21/iot-con-mxchip-i" rel="nofollow" target="_blank" title="Share on Reddit">
				<i class="fab fa-reddit"></i>
			</a> <a href="https://www.buymeacoffee.com/fernandoescolar" rel="nofollow" target="_blank" title="Buy me a beer">
				<i class="fa fa-beer"></i> buy me a beer
			</a>
		</section>
		<section id="related">
			<h2>
				Relacionado (o no)
			</h2>
			<ul>
				<li>
					<a href="/2021/03/24/azure-functions-net-5">
						Azure Functions con .NET 5
					</a> <small>24 mar. 2021
					</small>
				</li>
				<li>
					<a href="/2021/03/10/efcore-vs-records">
						EF Core vs. Records
					</a> <small>10 mar. 2021
					</small>
				</li>
				<li>
					<a href="/2021/03/03/chorra-tip-1-wcd-command">
						ChorraTip: rutas windows en git bash
					</a> <small>03 mar. 2021
					</small>
				</li>
				<li>
					<a href="/video/2021/02/27/raiders-od-the-lost-leak">
						Raiders of the lost leak
					</a> <small>27 feb. 2021
					</small>
				</li>
				<li>
					<a href="/video/2020/12/09/net-5-just-talking">
						.Net 5 Just Talking
					</a> <small>09 dic. 2020
					</small>
				</li>
			</ul>
		</section>
		<footer>
			<ul>
				<li>
					<a href="mailto:fer.escolar@gmail.com" target="_blank">
						<i class="far fa-envelope">
						</i>
					</a>
				</li>
				<li>
					<a href="https://twitter.com/fernandoescolar" target="_blank">
						<i class="fab fa-twitter">
						</i>
					</a>
				</li>
				<li>
					<a href="https://www.linkedin.com/in/fernandoescolar" target="_blank">
						<i class="fab fa-linkedin">
						</i>
					</a>
				</li>
				<li>
					<a href="https://github.com/fernandoescolar" target="_blank">
						<i class="fab fa-github">
						</i>
					</a>
				</li>
				<li>
					<a href="https://www.buymeacoffee.com/fernandoescolar" target="_blank">
						<i class="fa fa-beer">
						</i>
					</a>
				</li>
			</ul><a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">
				<img src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
			</a>
		</footer>
		<dialog id="cookie-notice">
			Nos gustaría usar cookies de terceros para hacer este sitio mejor. <a id="cookie-notice-accept">vale
			</a>
		</dialog>
		<script src="/assets/scripts.js">
		</script>
	</body>
</html>